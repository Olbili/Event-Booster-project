{"mappings":"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","sources":["src/js/request.js","src/js/renderHtml.js","src/js/pagination.js"],"sourcesContent":["// import { debounce } from \"debounce\";\nimport { createHTML, pag } from './renderHtml';\n\nasync function fetchOn(country, name) {\n  const APIKEY = '1Tzj1AqHPQoo0k9AET8HkQMHIUOGPgAP';\n  let size = 20;\n  if(window.screen.width >= 768 && window.screen.width <= 1199) {\n      size = 21;\n      };\n  const data = await fetch(\n    `https://app.ticketmaster.com/discovery/v2/events.json?keyword=${name}&countryCode=${country}&apikey=${APIKEY}&size=${size}`\n  ).then(response => {\n    return response.json();\n  });\n\n  \n\n \n  \n//  console.log(window.screen.width);\n\n\n// let size = 20;\n// if (window.screen.width = 768) {\n//   size = 21;\n// } const data = await fetch(https://app.ticketmaster.com/discovery/v2/events.json?keyword=${name}&countryCode=${country}&apikey=${APIKEY}&size=${size})\n//     .then((response) => {\n//       return response.json();\n//     });\n\n// let size = 20;\n// if(window.screen.width != 768) {\n//   const data = await fetch(https://app.ticketmaster.com/discovery/v2/events.json?keyword=${name}&countryCode=${country}&apikey=${APIKEY}&size=${size})\n//       .then((response) => {\n//         return response.json();\n//       });\n// } else size = 21;\n  const eventData = data._embedded.events;\n  const obj = {\n    data,\n    country,\n    name,\n  };\n  createHTML(eventData);\n  pag(obj);\n}\n\nexport default fetchOn;\n\n","import { paginationMarkup } from './pagination';\n\nconst refs = {\n  ul: document.querySelector('.cards'),\n  ulPag: document.querySelector('.pagination'),\n  country: document.querySelector('.locatio-input'),\n  name: document.querySelector('.name-input'),\n};\n\nfunction createHTML(eventData) {\n  eventData.map(({ name, dates: { start }, images }) => {\n    const place = eventData[0]._embedded.venues[0].name;\n    const markup = `<li class=\"card\">\n  <div class=\"before\">\n  <img class=\"image\" src=\"${images[3].url}\" alt=\"\" loading=\"lazy\">\n  </div>\n  <div class=\"information\">\n  <p class=\"name\">${name}</p>\n  <p class=\"date\">${start.localDate}</p>\n  <p class=\"place\"><img src=\"../images/svg/location.svg\" alt=\"\">${place}</p></div>\n</li>`;\n    refs.ul.insertAdjacentHTML('beforeend', markup);\n  });\n}\nfunction pag({ data, country, name }) {\n  const optionPagination = {\n    showStart: false,\n    showEnd: false,\n    baseTag: 'a',\n    link: 'https://app.ticketmaster.com/discovery/v2//events.json?apikey=bdHFOjAkpUBvne7gzKAkA6SZNtgLzUV4&page=',\n    baseClass: 'pageCount',\n    query: `countryCode=${country}&keyword=${name}`,\n  };\n  if (data.page.totalPages > 29) {\n    data.page.totalPages = 29;\n  }\n  const renderPageMarkup = paginationMarkup(\n    data.page.totalPages,\n    data.page.number + 1,\n    optionPagination\n  );\n\n  refs.ulPag.innerHTML = renderPageMarkup;\n}\n\nexport { createHTML, pag };\n","import { createHTML, pag } from './renderHtml';\n\nconst refs = {\n  ul: document.querySelector('.cards'),\n  ulPag: document.querySelector('.pagination'),\n  country: document.querySelector('.locatio-input'),\n  name: document.querySelector('.name-input'),\n};\n\nexport const paginationMarkup = (\n  totalPage,\n  nowPage,\n  {\n    countItemShow = 4,\n    showStart = true,\n    contentStart = '&lArr;',\n    showEnd = true,\n    contentEnd = '&rArr;',\n    dotTag = 'span',\n    baseTag = 'b',\n    link = '',\n    baseClass = '',\n    classActive = 'active',\n    query = '',\n  } = {}\n) => {\n  const genElement = (page = 1, text = page) =>\n    link && baseTag === 'a'\n      ? `<${baseTag} class=\"${\n          page === nowPage\n            ? baseClass\n              ? classActive\n              : `${baseClass} ${classActive}`\n            : baseClass\n        }\" href=\"${link + (+page - 1)}${\n          query ? '&' + query : ''\n        }\">${text}</${baseTag}>`\n      : `<${baseTag} class=\"${\n          page === nowPage\n            ? baseClass\n              ? classActive\n              : `${baseClass} ${classActive}`\n            : baseClass\n        }\">${text}</${baseTag}>`;\n  let markup = showStart ? genElement(1, contentStart) : '';\n  const startShow = nowPage - countItemShow;\n  const endShow = nowPage + countItemShow;\n  for (let i = 1; i <= totalPage; i++) {\n    if (i > endShow) i = totalPage;\n    if (startShow === i && i > 1) markup += `<${dotTag}>...</${dotTag}>`;\n    if (i === 1 || i === totalPage || (i >= nowPage - 2 && i <= nowPage + 2))\n      markup += genElement(i);\n    if (endShow === i) markup += `<${dotTag}>...</${dotTag}>`;\n    if (i < startShow) i = startShow - 1;\n  }\n  return (markup += showEnd ? genElement(totalPage, contentEnd) : '');\n};\n\nrefs.ulPag.addEventListener('click', onClick);\n\nfunction onClick(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'A') return;\n  if (e.target.classList.contains('active')) {\n    e.preventDefault();\n    return;\n  }\n\n  const data = e.target.href;\n  fetch(data)\n    .then(response => response.json())\n    .then(data => {\n      e.preventDefault();\n      refs.ul.innerHTML = '';\n      createHTML(data._embedded.events);\n\n      const country = refs.country.value.trim();\n      const name = refs.name.value.trim();\n\n      const obj = {\n        data,\n        country,\n        name,\n      };\n      pag(obj);\n    });\n}\n"],"names":["$1LZLQ","parcelRequire","$a426e9e8249f6b8b$export$2e2bcd8739ae039","async","country","name","size","window","screen","width","data","fetch","then","response","json","eventData","_embedded","events","obj","createHTML","pag","$2nhTy","$14aa189f0eb781e5$var$refs","ul","document","querySelector","ulPag","$14aa189f0eb781e5$export$8062c7bb2dbf069a","map","dates","start","images","place","venues","markup","url","localDate","insertAdjacentHTML","$14aa189f0eb781e5$export$d235da471e993d9a","optionPagination","showStart","showEnd","baseTag","link","baseClass","query","page","totalPages","renderPageMarkup","paginationMarkup","number","innerHTML","$1bab9c519cfa82bc$var$refs","$1bab9c519cfa82bc$export$a88ca8237831132f","totalPage","nowPage","countItemShow","contentStart","contentEnd","dotTag","classActive","genElement","text","startShow","endShow","i","addEventListener","e","preventDefault","target","nodeName","classList","contains","data1","href","value","trim"],"version":3,"file":"index.f94ce1da.js.map"}